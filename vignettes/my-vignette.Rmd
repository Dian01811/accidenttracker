---
title: "accidenttracker Vignette"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{accidenttracker Vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(accidenttracker)
```

The function of this package is to load the US_Accidents data set as a component of the accident_tracker shiny application along with the core functions required for the accident_tracker shiny app to run. The data set has been adjusted to only include data for the year of 2019 in order to allow the file to be compatible with file size limits with github. 

List of Removed Columns
---
- Airport_Code
- Description
- Number
- Street
- Country
- Civil_Twilight
- Nautical_Twilight
- Astronomical_Twilight


List of Changes to US_Accidents Data Set
---
- Filtered all of the data to only include points from the year 2019.

- Column names were changed in order to be in compliance with the style guide for MICR 475.
  - The names for each column were changed to the proper forms of snake case. 

- Missing values were removed from the data set via the 'dplyr::filter' command.

- Information pertaining to weather data was originally spread over numerous smaller columns. 
  - Specific weather conditions, such as "Fair" and "Heavy Rain", were categorized into broader weather descriptions in a new column. 
  - Conditions directly related to "Rain", "Snow", "Windy", etc. were grouped together for ease of visual and graphical interpretation 
  

Select Input and Select Options
---
- select_input
  - Utilizes an if loop to generate a shiny widget which allows users to select different types of inputs.. Examples of these include multiple check boxes, single option select, or multiple option select.  
  
- select_options
  - This function exists to generate a unique character vector from a selected column when viewing the data through the shiny app. 
  


Histogram Plot
---
The function histogram_plot switches the displayed graph between a bar graph or a histogram depending on the variable plotted on the x-axis. This allows for certain variables and relationships to be more easily interpreted displayed. 

- The variables "state", "day.night", "wind.dir", "side", "month", and "hour" all plot as a bar graph. 

- Any other variable selected in the shinyapp will be displayed on a histogram instead. 



Color pal and Legend Title
---
These two functions are UI functions and are designed to alter certain characteristics of the displayed map and legend generated with the leaflet package.

- color_pal returns a designated color pallet based on the input of a specific variable such as "None", "Severity", and "Temperature. It then changes the color of map markers generated by leaflet to correspond to the new designated pallet.

- legend_title selects and displays a pre-determined title from a list based on the selected input. The title name corresponds to the name of the variable being selected and is returned as a character string. 



Conditional Filter
---
The conditional_filter function reactively filters a data frame utilizing the dplyr::filter command. It is capable of returning either a filtered or unfiltered data frame depending on the input condition and whether that condition is met or not. Failing to met the designated condition will simply return an unfiltered data frame.  
